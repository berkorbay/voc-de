[{"name": "app.py", "content": "## Hello world example\n## https://shiny.posit.co/py/docs/overview.html\nimport json\nimport random\nfrom shiny import App, Inputs, Outputs, Session, reactive, render, req, ui\nimport shinyswatch\n\n# from wordlist import words\nimport htmltools\nfrom htmltools import head_content, HTML, TagList, HTMLTextDocument\n\n# global words\n\n# with open(\"words.json\") as f:\n#     words = json.load(f)\n\n\nfood_words = [\n    {\"das Essen\": \"food\"},\n    {\"die Mahlzeit\": \"meal\"},\n    {\"das Fr\u00fchst\u00fcck\": \"breakfast\"},\n    {\"das Mittagessen\": \"lunch\"},\n    {\"das Abendessen\": \"dinner\"},\n    {\"der Snack\": \"snack\"},\n    {\"der Apfel\": \"apple\"},\n    {\"die Banane\": \"banana\"},\n    {\"die Orange\": \"orange\"},\n    {\"die Erdbeere\": \"strawberry\"},\n    {\"die Traube\": \"grape\"},\n    {\"die Wassermelone\": \"watermelon\"},\n    {\"das Gem\u00fcse\": \"vegetables\"},\n    {\"die Karotte\": \"carrot\"},\n    {\"die Tomate\": \"tomato\"},\n    {\"die Kartoffel\": \"potato\"},\n    {\"der Salat\": \"salad\"},\n    {\"der Spinat\": \"spinach\"},\n    {\"die Zwiebel\": \"onion\"},\n    {\"der Knoblauch\": \"garlic\"},\n    {\"das Fleisch\": \"meat\"},\n    {\"das Huhn\": \"chicken\"},\n    {\"der Fisch\": \"fish\"},\n    {\"das Rindfleisch\": \"beef\"},\n    {\"der Schweinebraten\": \"pork roast\"},\n    {\"der K\u00e4se\": \"cheese\"},\n    {\"die Milch\": \"milk\"},\n    {\"der Joghurt\": \"yogurt\"},\n    {\"die Butter\": \"butter\"},\n    {\"das Brot\": \"bread\"},\n    {\"die Nudeln\": \"pasta\"},\n    {\"der Reis\": \"rice\"},\n    {\"die Suppe\": \"soup\"},\n    {\"der Kaffee\": \"coffee\"},\n    {\"der Tee\": \"tea\"},\n    {\"die Limonade\": \"lemonade\"},\n    {\"das Wasser\": \"water\"},\n    {\"der Wein\": \"wine\"},\n    {\"das Bier\": \"beer\"},\n    {\"der Kuchen\": \"cake\"},\n    {\"der Keks\": \"cookie\"},\n    {\"die Schokolade\": \"chocolate\"},\n    {\"das Eis\": \"ice cream\"},\n    {\"der Honig\": \"honey\"},\n    {\"der Senf\": \"mustard\"},\n    {\"die Mayonnaise\": \"mayonnaise\"},\n    {\"das \u00d6l\": \"oil\"},\n    {\"der Essig\": \"vinegar\"},\n]\n\n\ngeneral_words = [\n    {\"der Abend\": \"evening\"},\n    {\"der Wochenende\": \"weekend\"},\n    {\"der Monat\": \"month\"},\n    {\"das Jahr\": \"year\"},\n    {\"der Geburtstag\": \"birthday\"},\n    {\"die Kinder\": \"children\"},\n    {\"die Eltern\": \"parents\"},\n    {\"die Liebe\": \"love\"},\n    {\"der Hass\": \"hate\"},\n    {\"das Gl\u00fcck\": \"luck\"},\n    {\"die Traurigkeit\": \"sadness\"},\n    {\"die Freude\": \"joy\"},\n    {\"der Schmerz\": \"pain\"},\n    {\"die Gesundheit\": \"health\"},\n    {\"die Krankheit\": \"illness\"},\n    {\"der Arzt\": \"doctor\"},\n    {\"das Krankenhaus\": \"hospital\"},\n    {\"die Apotheke\": \"pharmacy\"},\n    {\"das Telefon\": \"telephone\"},\n    {\"der Computer\": \"computer\"},\n    {\"das Internet\": \"internet\"},\n    {\"die Musik\": \"music\"},\n    {\"der Film\": \"movie\"},\n    {\"das Buch\": \"book\"},\n    {\"die Kunst\": \"art\"},\n    {\"der Sport\": \"sport\"},\n    {\"der Fu\u00dfball\": \"football/soccer\"},\n    {\"der Basketball\": \"basketball\"},\n    {\"das Schwimmen\": \"swimming\"},\n    {\"das Fahrrad\": \"bicycle\"},\n]\n\ncity_words = [\n    {\"die Stadt\": \"city\"},\n    {\"das Zentrum\": \"center\"},\n    {\"der Bahnhof\": \"train station\"},\n    {\"die U-Bahn\": \"subway\"},\n    {\"die Bushaltestelle\": \"bus stop\"},\n    {\"die Stra\u00dfe\": \"street\"},\n    {\"die Kreuzung\": \"intersection\"},\n    {\"der Platz\": \"square\"},\n    {\"das Geb\u00e4ude\": \"building\"},\n    {\"der Wolkenkratzer\": \"skyscraper\"},\n    {\"das Einkaufszentrum\": \"shopping mall\"},\n    {\"das Kino\": \"cinema\"},\n    {\"das Theater\": \"theater\"},\n    {\"das Museum\": \"museum\"},\n    {\"die Bibliothek\": \"library\"},\n    {\"der Park\": \"park\"},\n    {\"der Spielplatz\": \"playground\"},\n    {\"das Caf\u00e9\": \"caf\u00e9\"},\n    {\"das Restaurant\": \"restaurant\"},\n    {\"die Bar\": \"bar\"},\n    {\"die Diskothek\": \"nightclub\"},\n    {\"der Supermarkt\": \"supermarket\"},\n    {\"die Bank\": \"bank\"},\n    {\"das B\u00fcro\": \"office\"},\n    {\"das Rathaus\": \"town hall\"},\n    {\"die Apotheke\": \"pharmacy\"},\n    {\"das Krankenhaus\": \"hospital\"},\n    {\"die Schule\": \"school\"},\n    {\"die Universit\u00e4t\": \"university\"},\n    {\"das Hotel\": \"hotel\"},\n    {\"der Markt\": \"market\"},\n    {\"der Laden\": \"shop/store\"},\n    {\"das Kaufhaus\": \"department store\"},\n    {\"die Post\": \"post office\"},\n    {\"die Kirche\": \"church\"},\n    {\"die Synagoge\": \"synagogue\"},\n    {\"die Moschee\": \"mosque\"},\n    {\"der Tempel\": \"temple\"},\n    {\"die Br\u00fccke\": \"bridge\"},\n    {\"der Fluss\": \"river\"},\n    {\"der See\": \"lake\"},\n    {\"der Parkplatz\": \"parking lot\"},\n    {\"die Ampel\": \"traffic light\"},\n    {\"der Zebrastreifen\": \"crosswalk\"},\n    {\"der Fahrradweg\": \"bike lane\"},\n    {\"die Treppe\": \"stairs\"},\n    {\"der Aufzug\": \"elevator\"},\n    {\"die Stra\u00dfenbahn\": \"tram\"},\n    {\"das Denkmal\": \"monument\"},\n    {\"der Turm\": \"tower\"},\n]\n\n\nweather_words = [\n    {\"das Wetter\": \"weather\"},\n    {\"die Sonne\": \"sun\"},\n    {\"der Mond\": \"moon\"},\n    {\"die Sterne\": \"stars\"},\n    {\"der Himmel\": \"sky\"},\n    {\"die Wolke\": \"cloud\"},\n    {\"der Regen\": \"rain\"},\n    {\"der Schnee\": \"snow\"},\n    {\"der Hagel\": \"hail\"},\n    {\"der Sturm\": \"storm\"},\n    {\"der Wind\": \"wind\"},\n    {\"der Nebel\": \"fog\"},\n    {\"der Blitz\": \"lightning\"},\n    {\"der Donner\": \"thunder\"},\n    {\"die Temperatur\": \"temperature\"},\n    {\"der Grad\": \"degree\"},\n    {\"der Frost\": \"frost\"},\n    {\"der Schauer\": \"shower\"},\n    {\"der Niederschlag\": \"precipitation\"},\n    {\"die Feuchtigkeit\": \"humidity\"},\n    {\"der Sonnenschein\": \"sunshine\"},\n    {\"die Hitze\": \"heat\"},\n    {\"die K\u00e4lte\": \"cold\"},\n    {\"der Fr\u00fchling\": \"spring\"},\n    {\"der Sommer\": \"summer\"},\n    {\"der Herbst\": \"autumn/fall\"},\n    {\"der Winter\": \"winter\"},\n    {\"die Jahreszeit\": \"season\"},\n    {\"der Sonnenaufgang\": \"sunrise\"},\n    {\"der Sonnenuntergang\": \"sunset\"},\n    {\"der Regenbogen\": \"rainbow\"},\n    {\"der Schirm\": \"umbrella\"},\n    {\"die Jacke\": \"jacket\"},\n    {\"der Mantel\": \"coat\"},\n    {\"die M\u00fctze\": \"hat\"},\n    {\"der Schal\": \"scarf\"},\n    {\"die Handschuhe\": \"gloves\"},\n    {\"die Sonnenbrille\": \"sunglasses\"},\n    {\"der Strand\": \"beach\"},\n    {\"die Welle\": \"wave\"},\n    {\"das Gewitter\": \"thunderstorm\"},\n    {\"das Klima\": \"climate\"},\n    {\"die Vorhersage\": \"forecast\"},\n    {\"die Wetterkarte\": \"weather map\"},\n    {\"der Wetterbericht\": \"weather report\"},\n    {\"der Hitzewelle\": \"heatwave\"},\n    {\"die Kaltfront\": \"cold front\"},\n    {\"der Tornado\": \"tornado\"},\n    {\"das Erdbeben\": \"earthquake\"},\n]\nglobal words\nwords = food_words + general_words + city_words + weather_words\n\n\ncookie_consent = HTML(\n    \"\"\"\n\n<script type=\"text/javascript\" src=\"//www.freeprivacypolicy.com/public/cookie-consent/4.1.0/cookie-consent.js\" charset=\"UTF-8\"></script>\n<script type=\"text/javascript\" charset=\"UTF-8\">\ndocument.addEventListener('DOMContentLoaded', function () {\ncookieconsent.run({\"notice_banner_type\":\"simple\",\"consent_type\":\"express\",\"palette\":\"light\",\"language\":\"en\",\"page_load_consent_levels\":[\"strictly-necessary\"],\"notice_banner_reject_button_hide\":false,\"preferences_center_close_button_hide\":false,\"page_refresh_confirmation_buttons\":false,\"website_name\":\"Voc-DE\"});\n});\n</script>\n<noscript>Cookie Consent by <a href=\"https://www.freeprivacypolicy.com/\">Free Privacy Policy Generator</a></noscript>\n\n    \"\"\"\n)\n\n# Part 1: ui ----\napp_ui = ui.page_bootstrap(\n    head_content(cookie_consent),\n    shinyswatch.theme.minty(),\n    ui.row(\n        ui.column(\n            4,\n            ui.h2(\"Vocabulary Builder\"),\n            ui.input_switch(\"en_de\", \"[\ud83c\uddec\ud83c\udde7 EN] -> [\ud83c\udde9\ud83c\uddea DE]\"),\n            ui.card(\n                ui.output_ui(\"translation_direction\"),\n                ui.h4(ui.output_text(\"new_word\")),\n                ui.output_text(\"translation\"),\n                ui.card_footer(\n                    ui.input_action_button(\"show_translation\", \"\ud83e\udd1e Show\"),\n                    ui.input_action_button(\n                        \"get_new_word\",\n                        \"\ud83d\udd00 New Word\",\n                    ),\n                    style=\"display:flex; justify-content:space-between;\",\n                ),\n                full_screen=False,\n            ),\n            offset=4,\n        )\n    ),\n    style=\"margin-top:20vh;\",\n)\n\n\n# Part 2: server ----\ndef server(input, output, session):\n    word_pick = reactive.Value(random.choice(words))\n    show_result = reactive.Value(False)\n\n    # @output\n    # @render.text\n    # def translation():\n    #     if input.show_translation:\n    #         the_pair = word_pick.get()\n    #         if input.en_de:\n    #             return list(the_pair.keys())[0]\n    #         else:\n    #             return list(the_pair.values())[0]\n    #     else:\n    #         return \"[ANSWER]\"\n\n    @reactive.Effect\n    @reactive.event(input.get_new_word, ignore_none=False)\n    def _():\n        @output\n        @render.text\n        def new_word():\n            if input.get_new_word:\n                try:\n                    the_pair = random.choice(words)\n                    word_pick.set(the_pair)\n                    show_result.set(False)\n                    input.show_translation._value = 0\n                    if input.en_de._value:\n                        return list(the_pair.values())[0]\n                    else:\n                        return list(the_pair.keys())[0]\n\n                except Exception as e:\n                    print(e)\n\n    @reactive.Effect\n    @reactive.event(input.show_translation, input.get_new_word, ignore_none=False)\n    def _():\n        if input.show_translation._value >= 1:\n            show_result.set(True)\n\n        @output\n        @render.text\n        def translation():\n            if show_result.get():\n                the_pair = word_pick.get()\n                if input.en_de._value:\n                    return list(the_pair.keys())[0]\n                else:\n                    return list(the_pair.values())[0]\n            elif input.get_new_word:\n                return \"[ANSWER]\"\n            else:\n                return \"[ANSWER]\"\n\n    @reactive.Effect\n    @reactive.event(input.en_de, ignore_none=False)\n    def _():\n        @output\n        @render.ui\n        def translation_direction():\n            if input.en_de._value:\n                return ui.card_header(\"\ud83c\uddec\ud83c\udde7 EN -> \ud83c\udde9\ud83c\uddea DE\")\n            else:\n                return ui.card_header(\"\ud83c\udde9\ud83c\uddea DE -> \ud83c\uddec\ud83c\udde7 EN\")\n\n\n# Combine into a shiny app.\n# Note that the variable must be \"app\".\napp = App(app_ui, server)\n", "type": "text"}, {"name": "wordlist.py", "content": "# global words\n\n# with open(\"words.json\") as f:\n#     words = json.load(f)\n\n\nfood_words = [\n    {\"das Essen\": \"food\"},\n    {\"die Mahlzeit\": \"meal\"},\n    {\"das Fr\u00fchst\u00fcck\": \"breakfast\"},\n    {\"das Mittagessen\": \"lunch\"},\n    {\"das Abendessen\": \"dinner\"},\n    {\"der Snack\": \"snack\"},\n    {\"der Apfel\": \"apple\"},\n    {\"die Banane\": \"banana\"},\n    {\"die Orange\": \"orange\"},\n    {\"die Erdbeere\": \"strawberry\"},\n    {\"die Traube\": \"grape\"},\n    {\"die Wassermelone\": \"watermelon\"},\n    {\"das Gem\u00fcse\": \"vegetables\"},\n    {\"die Karotte\": \"carrot\"},\n    {\"die Tomate\": \"tomato\"},\n    {\"die Kartoffel\": \"potato\"},\n    {\"der Salat\": \"salad\"},\n    {\"der Spinat\": \"spinach\"},\n    {\"die Zwiebel\": \"onion\"},\n    {\"der Knoblauch\": \"garlic\"},\n    {\"das Fleisch\": \"meat\"},\n    {\"das Huhn\": \"chicken\"},\n    {\"der Fisch\": \"fish\"},\n    {\"das Rindfleisch\": \"beef\"},\n    {\"der Schweinebraten\": \"pork roast\"},\n    {\"der K\u00e4se\": \"cheese\"},\n    {\"die Milch\": \"milk\"},\n    {\"der Joghurt\": \"yogurt\"},\n    {\"die Butter\": \"butter\"},\n    {\"das Brot\": \"bread\"},\n    {\"die Nudeln\": \"pasta\"},\n    {\"der Reis\": \"rice\"},\n    {\"die Suppe\": \"soup\"},\n    {\"der Kaffee\": \"coffee\"},\n    {\"der Tee\": \"tea\"},\n    {\"die Limonade\": \"lemonade\"},\n    {\"das Wasser\": \"water\"},\n    {\"der Wein\": \"wine\"},\n    {\"das Bier\": \"beer\"},\n    {\"der Kuchen\": \"cake\"},\n    {\"der Keks\": \"cookie\"},\n    {\"die Schokolade\": \"chocolate\"},\n    {\"das Eis\": \"ice cream\"},\n    {\"der Honig\": \"honey\"},\n    {\"der Senf\": \"mustard\"},\n    {\"die Mayonnaise\": \"mayonnaise\"},\n    {\"das \u00d6l\": \"oil\"},\n    {\"der Essig\": \"vinegar\"},\n]\n\n\ngeneral_words = [\n    {\"der Abend\": \"evening\"},\n    {\"der Wochenende\": \"weekend\"},\n    {\"der Monat\": \"month\"},\n    {\"das Jahr\": \"year\"},\n    {\"der Geburtstag\": \"birthday\"},\n    {\"die Kinder\": \"children\"},\n    {\"die Eltern\": \"parents\"},\n    {\"die Liebe\": \"love\"},\n    {\"der Hass\": \"hate\"},\n    {\"das Gl\u00fcck\": \"luck\"},\n    {\"die Traurigkeit\": \"sadness\"},\n    {\"die Freude\": \"joy\"},\n    {\"der Schmerz\": \"pain\"},\n    {\"die Gesundheit\": \"health\"},\n    {\"die Krankheit\": \"illness\"},\n    {\"der Arzt\": \"doctor\"},\n    {\"das Krankenhaus\": \"hospital\"},\n    {\"die Apotheke\": \"pharmacy\"},\n    {\"das Telefon\": \"telephone\"},\n    {\"der Computer\": \"computer\"},\n    {\"das Internet\": \"internet\"},\n    {\"die Musik\": \"music\"},\n    {\"der Film\": \"movie\"},\n    {\"das Buch\": \"book\"},\n    {\"die Kunst\": \"art\"},\n    {\"der Sport\": \"sport\"},\n    {\"der Fu\u00dfball\": \"football/soccer\"},\n    {\"der Basketball\": \"basketball\"},\n    {\"das Schwimmen\": \"swimming\"},\n    {\"das Fahrrad\": \"bicycle\"},\n]\n\ncity_words = [\n    [\n        {\"die Stadt\": \"city\"},\n        {\"das Zentrum\": \"center\"},\n        {\"der Bahnhof\": \"train station\"},\n        {\"die U-Bahn\": \"subway\"},\n        {\"die Bushaltestelle\": \"bus stop\"},\n        {\"die Stra\u00dfe\": \"street\"},\n        {\"die Kreuzung\": \"intersection\"},\n        {\"der Platz\": \"square\"},\n        {\"das Geb\u00e4ude\": \"building\"},\n        {\"der Wolkenkratzer\": \"skyscraper\"},\n        {\"das Einkaufszentrum\": \"shopping mall\"},\n        {\"das Kino\": \"cinema\"},\n        {\"das Theater\": \"theater\"},\n        {\"das Museum\": \"museum\"},\n        {\"die Bibliothek\": \"library\"},\n        {\"der Park\": \"park\"},\n        {\"der Spielplatz\": \"playground\"},\n        {\"das Caf\u00e9\": \"caf\u00e9\"},\n        {\"das Restaurant\": \"restaurant\"},\n        {\"die Bar\": \"bar\"},\n        {\"die Diskothek\": \"nightclub\"},\n        {\"der Supermarkt\": \"supermarket\"},\n        {\"die Bank\": \"bank\"},\n        {\"das B\u00fcro\": \"office\"},\n        {\"das Rathaus\": \"town hall\"},\n        {\"die Apotheke\": \"pharmacy\"},\n        {\"das Krankenhaus\": \"hospital\"},\n        {\"die Schule\": \"school\"},\n        {\"die Universit\u00e4t\": \"university\"},\n        {\"das Hotel\": \"hotel\"},\n        {\"der Markt\": \"market\"},\n        {\"der Laden\": \"shop/store\"},\n        {\"das Kaufhaus\": \"department store\"},\n        {\"die Post\": \"post office\"},\n        {\"die Kirche\": \"church\"},\n        {\"die Synagoge\": \"synagogue\"},\n        {\"die Moschee\": \"mosque\"},\n        {\"der Tempel\": \"temple\"},\n        {\"die Br\u00fccke\": \"bridge\"},\n        {\"der Fluss\": \"river\"},\n        {\"der See\": \"lake\"},\n        {\"der Parkplatz\": \"parking lot\"},\n        {\"die Ampel\": \"traffic light\"},\n        {\"der Zebrastreifen\": \"crosswalk\"},\n        {\"der Fahrradweg\": \"bike lane\"},\n        {\"die Treppe\": \"stairs\"},\n        {\"der Aufzug\": \"elevator\"},\n        {\"die Stra\u00dfenbahn\": \"tram\"},\n        {\"das Denkmal\": \"monument\"},\n        {\"der Turm\": \"tower\"},\n    ]\n]\n\nweather_words = [\n    [\n        {\"das Wetter\": \"weather\"},\n        {\"die Sonne\": \"sun\"},\n        {\"der Mond\": \"moon\"},\n        {\"die Sterne\": \"stars\"},\n        {\"der Himmel\": \"sky\"},\n        {\"die Wolke\": \"cloud\"},\n        {\"der Regen\": \"rain\"},\n        {\"der Schnee\": \"snow\"},\n        {\"der Hagel\": \"hail\"},\n        {\"der Sturm\": \"storm\"},\n        {\"der Wind\": \"wind\"},\n        {\"der Nebel\": \"fog\"},\n        {\"der Blitz\": \"lightning\"},\n        {\"der Donner\": \"thunder\"},\n        {\"die Temperatur\": \"temperature\"},\n        {\"der Grad\": \"degree\"},\n        {\"der Frost\": \"frost\"},\n        {\"der Schauer\": \"shower\"},\n        {\"der Niederschlag\": \"precipitation\"},\n        {\"die Feuchtigkeit\": \"humidity\"},\n        {\"der Sonnenschein\": \"sunshine\"},\n        {\"die Hitze\": \"heat\"},\n        {\"die K\u00e4lte\": \"cold\"},\n        {\"der Fr\u00fchling\": \"spring\"},\n        {\"der Sommer\": \"summer\"},\n        {\"der Herbst\": \"autumn/fall\"},\n        {\"der Winter\": \"winter\"},\n        {\"die Jahreszeit\": \"season\"},\n        {\"der Sonnenaufgang\": \"sunrise\"},\n        {\"der Sonnenuntergang\": \"sunset\"},\n        {\"der Regenbogen\": \"rainbow\"},\n        {\"der Schirm\": \"umbrella\"},\n        {\"die Jacke\": \"jacket\"},\n        {\"der Mantel\": \"coat\"},\n        {\"die M\u00fctze\": \"hat\"},\n        {\"der Schal\": \"scarf\"},\n        {\"die Handschuhe\": \"gloves\"},\n        {\"die Sonnenbrille\": \"sunglasses\"},\n        {\"der Strand\": \"beach\"},\n        {\"die Welle\": \"wave\"},\n        {\"das Gewitter\": \"thunderstorm\"},\n        {\"das Klima\": \"climate\"},\n        {\"die Vorhersage\": \"forecast\"},\n        {\"die Wetterkarte\": \"weather map\"},\n        {\"der Wetterbericht\": \"weather report\"},\n        {\"der Hitzewelle\": \"heatwave\"},\n        {\"die Kaltfront\": \"cold front\"},\n        {\"der Tornado\": \"tornado\"},\n        {\"das Erdbeben\": \"earthquake\"},\n    ]\n]\n\nwords = food_words + general_words + city_words + weather_words\n", "type": "text"}]